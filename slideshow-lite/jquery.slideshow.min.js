/**


 * Slideshow plugin for jQuery


 *


 * v0.10.0

 *

 * Extended and Updated 2011 based on a similar plugin by Fred Wu..


 *  Dual licensed under the MIT and GPL licenses:


 *   http://www.opensource.org/licenses/mit-license.php


 *   http://www.gnu.org/licenses/gpl.html


    For documentation look at non-minified version or in the site.
    Note this software is provided AS IS with no warranty. It is provided free of charge for u to use.
    Author: Nikos M.
    Site: http://nikos-web-development.netai.net

*/





/**


 * Configuration options:


 *


 * pauseSeconds  float    number of seconds between each photo to be displayed after transition


 * fadeSeconds     float    number of seconds for the fading transition


 * width         integer  width of the slideshow, in pixels


 * height        integer  height of the slideshow, in pixels


 * caption       boolean  display photo caption?


 * cssClass      string   name of the CSS class, defaults to 'slideshowlite'
 
 
 * pagination    string pagination type "controls", "pages", "none" etc..
 
 
 * fx           string indicating fx transition type "fade", "slide" etc
 
 
 * controlsText  object of Strings containing the text values for the controls buttons etc..
 
 
 * aData        array  optional array of objects containing image source and alt properties (instead of DOM image insertion)

 */
(function(b){b.fn.slideshow=function(a){var a=b.extend({pauseSeconds:7,fadeSeconds:0.5,width:500,height:500,caption:!0,cssClass:"slideshowlite",pagination:"controls",fx:"fade",controlsText:null,aData:null},a),g=this,l=0,m=0;if(a.aData){var d=0;a.aData.each(function(){b(g).append("<img src='"+a.aData[d].src+"' alt='"+a.aData[d].alt+"' width='"+a.aData[d].width+"' height='"+a.aData[d].height+"'/>");if(a.aData[d].width&&a.aData[d].width>l)l=a.aData[d].width;if(a.aData[d].height&&a.aData[d].height>m)m=
a.aData[d].height;d++})}b(g).children("a");var n,p=0,q=0;b(this).append("<div class='images'></div>");b(this).children("img").each(function(){b(g).children(".images").append(b(this).clone());b(this).width()>p&&(p=b(this).width());b(this).height()>q&&(q=b(this).height());b(this).remove()});b(this).hasClass(a.cssClass)||b(this).addClass(a.cssClass);l>0&&m>0&&b(this).children(".images").css({width:l+"px",height:m+"px"});b(this).children(".images").children("img").wrap(document.createElement("a"));b(this).children(".images").children("a").attr("target",
"blank");var r=1;b(this).children(".images").children("a").each(function(){b(this).attr("rel",r++);b(this).css({position:"absolute",left:0.5*(p-b(this).width())+"px",top:0.5*(q-b(this).height())+"px"})});var c,h;a.pagination=a.pagination.toLowerCase();a.fx=a.fx.toLowerCase();if(a.pagination=="pages"||a.pagination=="controls")b(this).append("<div class='controls'></div>"),c=b(this).children(".controls");a.caption&&(b(this).append("<div class='caption'></div>"),h=b(this).children(".caption"));var r=
1,t=0,s=!0;a.pagination=="controls"?(c.append("<a href='javascript:void(0)' class='first'></a><a href='javascript:void(0)' class='prev'></a><a href='javascript:void(0)' class='pause'></a><a href='javascript:void(0)' class='play'></a><a href='javascript:void(0)' class='next'></a><a href='javascript:void(0)' class='last'></a>"),a.controlsText!=null&&(c.children(".first").text(a.controlsText.first),c.children(".last").text(a.controlsText.last),c.children(".prev").text(a.controlsText.prev),c.children(".next").text(a.controlsText.next),
c.children(".play").text(a.controlsText.pause),c.children(".pause").text(a.controlsText.play))):a.pagination=="pages"&&b(this).children(".images").children("a").each(function(){c.append("<a href='javascript:void(0)' class='bullet'>"+r++ +"</a>")});a.caption&&b(this).children(".images").children("a").each(function(){h.append("<span>"+b("#"+b(g).attr("id")+" img:nth("+t++ +")").attr("alt")+"</span>")});(a.pagination=="controls"||a.pagination=="pages")&&c.fadeTo(0,0.8);a.caption&&(h.fadeTo(0,0.6),h.hide());
var k=b(g).children(".images").children("a:first"),o=b(g).children(".images").children("a:last"),f=k,e=f,u=function(a){c.children("a").removeClass("current");c.children("a:nth("+a+")").addClass("current")},v=function(b){h.show();h.children("span").hide();h.children("span:nth("+b+")").stop(!0,!0).fadeIn(1E3*a.fadeSeconds/2)},j=function(){s=!0;a.pagination=="controls"&&(c.children(".play").show(),c.children(".pause").hide())};continueSlideshow=function(){if(s){b(g).children(".images").children("a").stop(!0,
!0).hide();f.show().css("z-index",0);a.caption==!0&&v(e.attr("rel")-1);a.pagination=="pages"&&u(e.attr("rel")-1);var c=f;e.css("z-index",1);var d=e;a.fx=="slide"?e.stop(!0,!0).slideDown(a.fadeSeconds*1E3,function(){b(this).show().css("z-index",1);d!=c&&c.hide();n=setTimeout(continueSlideshow,(a.pauseSeconds+a.fadeSeconds)*1E3)}):e.stop(!0,!0).fadeIn(a.fadeSeconds*1E3,function(){b(this).show().css("z-index",1);d!=c&&c.hide();n=setTimeout(continueSlideshow,(a.pauseSeconds+a.fadeSeconds)*1E3)});f=e;
e=f.children("img").attr("src")==o.children("img").attr("src")?k:f.next()}};var i=function(){j();clearTimeout(n);continueSlideshow()};(function(){a.pagination=="pages"?c.children("a").click(function(){b(this).hasClass("current")||(e=b(g).children(".images").children("a:nth("+(b(this).text()-1)+")"),i())}):a.pagination=="controls"&&(c.children(".play").click(function(){s=!1;c.children(".play").hide();c.children(".pause").show();clearTimeout(n)}),c.children(".pause").click(function(){j();i()}),c.children(".first").click(function(){j();
e=k;i()}),c.children(".last").click(function(){j();e=o;i()}),c.children(".prev").click(function(){j();e=f.children("img").attr("src")==k.children("img").attr("src")?o:f.prev();i()}),c.children(".next").click(function(){j();e=f.children("img").attr("src")==o.children("img").attr("src")?k:f.next();i()}))})();i()}})(jQuery);
